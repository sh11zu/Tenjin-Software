<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Séries</title>
    <link rel="stylesheet" href="/STATIC/styles.css">
    <link rel="stylesheet" href="/STATIC/sidebar.css">
    <link rel="stylesheet" href="/STATIC/tables.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
</head>
<body>
    <div class="sidebar" id="sidebar">
        



        <div class="logo-container">
            <a href="/HTML/index.html">
                <img src="/images/logo_tenjin.png" alt="Tenjin Logo" class="logo" title="Tenjin">
            </a>
        </div>
        
        <hr class="divider">
        <div class="menu-section-title">général</div>
        <ul>
            <li class="menu-item">
                <a href="/HTML/index.html">
                    <i class="fa fa-tachometer"></i>
                    <span class="menu-title">Tableau de bord</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="/HTML/collection.html">
                    <i class="fas fa-archive"></i>
                    <span class="menu-title">Collection</span>
                </a>
            </li>
            <li class="menu-item" title="Factures">
                <a href="/HTML/factures.html">
                    <i class="fas fa-file-invoice-dollar"></i>
                    <span class="menu-title">Factures</span>
                </a>
            </li>
            <li class="menu-item" title="Séries">
                <a href="/HTML/series.html">
                    <i class="fas fa-book"></i>
                    <span class="menu-title">Séries</span>
                </a>
            </li>
            <li class="menu-item" title="Mouvement">
                <a href="/HTML/mouvement.html">
                    <i class="fas fa-exchange-alt"></i>
                    <span class="menu-title">Mouvement</span>
                </a>
            </li>
            <li class="menu-item has-dropdown" title="Données">
                <a href="#">
                    <i class="fas fa-database"></i>
                    <span class="menu-title">Données</span>
                </a>
                <i class="fas fa-chevron-down arrow"></i>
            </li>
            <ul class="menu-item-dropdown" id="dropdownMenu">
                <li class="menu-item" title="Éditions">
                    <a href="/HTML/editions.html">
                        <i class="fa-solid fa-list"></i>
                        <span class="menu-dropdown-title">Éditions</span>
                    </a>
                </li>
                <li class="menu-item" title="Auteurs">
                    <a href="/HTML/auteurs.html">
                        <i class="fas fa-user-edit"></i>
                        <span class="menu-dropdown-title">Auteurs</span>
                    </a>
                </li>
                <li class="menu-item" title="Acheteurs">
                    <a href="/HTML/acheteurs.html">
                        <i class="fas fa-user-check"></i>
                        <span class="menu-dropdown-title">Acheteurs</span>
                    </a>
                </li>
                <li class="menu-item" title="Vendeurs">
                    <a href="/HTML/vendeurs.html">
                        <i class="fas fa-store"></i>
                        <span class="menu-dropdown-title">Vendeurs</span>
                    </a>
                </li>
                <li class="menu-item" title="Autres">
                    <a href="/HTML/autres.html">
                        <i class="fas fa-ellipsis-h"></i>
                        <span class="menu-dropdown-title">Autres</span>
                    </a>
                </li>
            </ul>            
            <li class="menu-item" title="Statistiques">
                <a href="/HTML/stats.html">
                    <i class="fa-solid fa-diagram-project"></i>
                    <span class="menu-title">Statistiques</span>
                </a>
            </li>
        </ul>

        <hr class="divider">
        <div class="menu-section-title">compte</div>

        <ul>
            <li class="menu-item" title="Messages">
                <a href="">
                    <i class="fa-solid fa-message"></i>
                    <span class="menu-title">Messages</span>
                </a>
            </li>
            <li class="menu-item" title="Paramètres">
                <a href="">
                    <i class="fa fa-cog"></i>
                    <span class="menu-title">Paramètres</span>
                </a>
            </li>
            <li class="menu-item" title="Déconnexion">
                <a href="/HTML/login.html">
                    <i class="fa fa-sign-out"></i>
                    <span class="menu-title">Déconnexion</span>
                </a>
            </li>
        </ul>
        <hr class="divider">
        <div class="user-controls">
            <div class="user-profile" id="userProfile"></div>
            <div class="user-info">
                <div class="user-name" id="userName">Ethan Masneuf</div>
                <div class="user-email">Administrateur</div>
            </div>
        </div>

        <button class="toggle-btn" id="toggleBtn"><i class="fas fa-chevron-left"></i></button>
    </div>
    <div class="content" id="main-content">
        <header class="header">
            <h1>Séries</h1>
            <div class="subtitle">Bienvenue sur la page Séries</div>
        </header>
        <main>
            <table id="seriesTable" class="series-table display">
                <thead>
                    <tr>
                        <th></th>
                        <th>ID</th>
                        <th>Code série</th>
                        <th>Série</th>
                        <th>Public</th>
                        <th>Edition</th>
                        <th>Scénario</th>
                        <th>Mangaka</th>
                        <th>Chara-design</th>
                        <th>Histoire originale</th>
                        <th>Parution</th>
                        <th>Pays</th>
                        <th>Année VO</th>
                        <th>Année VF</th>
                        <th>Prix editeur</th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-id="001" data-codeserie="KIO7001" data-serie="Act-age" data-public="Shōnen" data-edition="Ki-oon" data-scenario="Tatsuya Matsuki" data-mangaka="Shiro Usazaki" data-charadesign="✖" data-histoire-originale="✖" data-parution="abandonnée" data-pays="Japon" data-annee-vo="2012" data-annee-vf="2017" data-prix-editeur="6,90 €">
                        <td>
                            <a href="#" class="view-serie"><i class="fas fa-search"></i></a>
                            <a href="#" class="edit-serie"><i class="fas fa-edit"></i></a>
                            <a href="#" class="delete-serie"><i class="fas fa-trash"></i></a>
                        </td>
                        <td>001</td>
                        <td>KIO7001</td>
                        <td>Act-age</td>
                        <td>Shōnen</td>
                        <td>Ki-oon</td>
                        <td>Tatsuya Matsuki</td>
                        <td>Shiro Usazaki</td>
                        <td>✖</td>
                        <td>✖</td>
                        <td>abandonnée</td>
                        <td>Japon</td>
                        <td>2012</td>
                        <td>2017</td>
                        <td>6,90 €</td>
                    </tr>
                    <tr data-id="002" data-codeserie="PAN7002" data-serie="Ano Hana" data-public="Shōnen" data-edition="Panini" data-scenario="Cho-Heiwa Busters" data-mangaka="Mitsu Izumi" data-charadesign="✖" data-histoire-originale="✖" data-parution="terminée" data-pays="Japon" data-annee-vo="2011" data-annee-vf="2019" data-prix-editeur="6,99 €">
                        <td>
                            <a href="#" class="view-serie"><i class="fas fa-search"></i></a>
                            <a href="#" class="edit-serie"><i class="fas fa-edit"></i></a>
                            <a href="#" class="delete-serie"><i class="fas fa-trash"></i></a>
                        </td>
                        <td>002</td>
                        <td>PAN7002</td>
                        <td>Ano Hana</td>
                        <td>Shōnen</td>
                        <td>Panini</td>
                        <td>Cho-Heiwa Busters</td>
                        <td>Mitsu Izumi</td>
                        <td>✖</td>
                        <td>✖</td>
                        <td>terminée</td>
                        <td>Japon</td>
                        <td>2011</td>
                        <td>2019</td>
                        <td>6,99 €</td>
                    </tr>
                    <tr data-id="003" data-codeserie="DEL7003" data-serie="L'Île aux escaliers" data-public="Shōnen" data-edition="Delcourt-Tonkam" data-scenario="Yutaka Kono" data-mangaka="Ai Uzuki" data-charadesign="Hagu Koshijima" data-histoire-originale="✖" data-parution="terminée" data-pays="Japon" data-annee-vo="2002" data-annee-vf="2008" data-prix-editeur="7,99 €">
                        <td>
                            <a href="#" class="view-serie"><i class="fas fa-search"></i></a>
                            <a href="#" class="edit-serie"><i class="fas fa-edit"></i></a>
                            <a href="#" class="delete-serie"><i class="fas fa-trash"></i></a>
                        </td>
                        <td>003</td>
                        <td>DEL7003</td>
                        <td>L'Île aux escaliers</td>
                        <td>Shōnen</td>
                        <td>Delcourt-Tonkam</td>
                        <td>Yutaka Kono</td>
                        <td>Ai Uzuki</td>
                        <td>Hagu Koshijima</td>
                        <td>✖</td>
                        <td>terminée</td>
                        <td>Japon</td>
                        <td>2002</td>
                        <td>2008</td>
                        <td>7,99 €</td>
                    </tr>
                    <tr data-id="004" data-codeserie="KIO7004" data-serie="A Silent Voice" data-public="Shōnen" data-edition="Ki-oon" data-scenario="Yoshitoki Oima" data-mangaka="Yoshitoki Oima" data-charadesign="✖" data-histoire-originale="✖" data-parution="terminée" data-pays="Japon" data-annee-vo="2020" data-annee-vf="2023" data-prix-editeur="6,60 €">
                        <td>
                            <a href="#" class="view-serie"><i class="fas fa-search"></i></a>
                            <a href="#" class="edit-serie"><i class="fas fa-edit"></i></a>
                            <a href="#" class="delete-serie"><i class="fas fa-trash"></i></a>
                        </td>
                        <td>004</td>
                        <td>KIO7004</td>
                        <td>A Silent Voice</td>
                        <td>Shōnen</td>
                        <td>Ki-oon</td>
                        <td>Yoshitoki Oima</td>
                        <td>Yoshitoki Oima</td>
                        <td>✖</td>
                        <td>✖</td>
                        <td>terminée</td>
                        <td>Japon</td>
                        <td>2020</td>
                        <td>2023</td>
                        <td>6,60 €</td>
                    </tr>
                    <tr data-id="005" data-codeserie="KAN7005" data-serie="Assassination Classroom" data-public="Shōnen" data-edition="Kana" data-scenario="Yusei Matsui" data-mangaka="Yusei Matsui" data-charadesign="✖" data-histoire-originale="✖" data-parution="terminée" data-pays="Japon" data-annee-vo="2023" data-annee-vf="2024" data-prix-editeur="6,85 €">
                        <td>
                            <a href="#" class="view-serie"><i class="fas fa-search"></i></a>
                            <a href="#" class="edit-serie"><i class="fas fa-edit"></i></a>
                            <a href="#" class="delete-serie"><i class="fas fa-trash"></i></a>
                        </td>
                        <td>005</td>
                        <td>KAN7005</td>
                        <td>Assassination Classroom</td>
                        <td>Shōnen</td>
                        <td>Kana</td>
                        <td>Yusei Matsui</td>
                        <td>Yusei Matsui</td>
                        <td>✖</td>
                        <td>✖</td>
                        <td>terminée</td>
                        <td>Japon</td>
                        <td>2023</td>
                        <td>2024</td>
                        <td>6,85 €</td>
                    </tr>
                </tbody>
            </table>
        </main>
    </div>
    <script src="/STATIC/script.js"></script>
    <script src="/STATIC/sidebar.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            $('#seriesTable').DataTable({
                columnDefs: [
                    { orderable: false, targets: 0 }
                ],
                language: {
                    url: '//cdn.datatables.net/plug-ins/1.10.24/i18n/French.json'
                }
            });

            $(document).on('click', '.delete-serie', function (e) {
                e.preventDefault();
                Swal.fire({
                    icon: 'error',
                    title: 'Erreur',
                    text: 'Vous n\'avez pas les autorisations pour supprimer une série.',
                });
            });

            $(document).on('click', '.edit-serie', function (e) {
                e.preventDefault();
                Swal.fire({
                    icon: 'error',
                    title: 'Erreur',
                    text: 'Vous n\'avez pas les autorisations pour modifier une série.',
                });
            });

            $(document).on('click', '.view-serie', function (e) {
                e.preventDefault();
                
                // Récupérer les données de la ligne cliquée
                const row = $(this).closest('tr');
                const id = row.data('id');
                const codeserie = row.data('codeserie');
                const serie = row.data('serie');
                const public = row.data('public');
                const edition = row.data('edition');
                const scenario = row.data('scenario');
                const mangaka = row.data('mangaka');
                const charadesign = row.data('charadesign');
                const histoireOriginale = row.data('histoire-originale');
                const parution = row.data('parution');
                const pays = row.data('pays');
                const anneeVo = row.data('annee-vo');
                const anneeVf = row.data('annee-vf');
                const prixEditeur = row.data('prix-editeur');
                
                Swal.fire({
                    title: 'Détail de la série',
                    html: `
                        <p><strong>ID:</strong> ${id}</p>
                        <p><strong>Code série:</strong> ${codeserie}</p>
                        <p><strong>Série:</strong> ${serie}</p>
                        <p><strong>Public:</strong> ${public}</p>
                        <p><strong>Edition:</strong> ${edition}</p>
                        <p><strong>Scénario:</strong> ${scenario}</p>
                        <p><strong>Mangaka:</strong> ${mangaka}</p>
                        <p><strong>Chara-design:</strong> ${charadesign}</p>
                        <p><strong>Histoire originale:</strong> ${histoireOriginale}</p>
                        <p><strong>Parution:</strong> ${parution}</p>
                        <p><strong>Pays:</strong> ${pays}</p>
                        <p><strong>Année VO:</strong> ${anneeVo}</p>
                        <p><strong>Année VF:</strong> ${anneeVf}</p>
                        <p><strong>Prix editeur:</strong> ${prixEditeur}</p>
                    `,
                    icon: 'info',
                });
            });

            // Gestion de la surbrillance de la ligne entière
            $('#seriesTable tbody').on('mouseenter', 'tr', function () {
                $(this).addClass('highlight');
                $(this).find('td').addClass('highlight'); // Ajouter la classe à toutes les cellules
            }).on('mouseleave', 'tr', function () {
                $(this).removeClass('highlight');
                $(this).find('td').removeClass('highlight'); // Retirer la classe de toutes les cellules
            });
        });
    </script>
    <button class="floating-btn">+</button>
</body>
</html>
